(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["wpd"]=t():e["wpd"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({8875:function(e,t,r){var a,n,i;(function(r,o){n=[],a=o,i="function"===typeof a?a.apply(t,n):a,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var r,a,n,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,l=i.exec(p.stack)||o.exec(p.stack),s=l&&l[1]||!1,c=l&&l[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");s===u&&(r=document.documentElement.outerHTML,a=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=r.replace(a,"$1").trim());for(var f=0;f<d.length;f++){if("interactive"===d[f].readyState)return d[f];if(d[f].src===s)return d[f];if(s===u&&d[f].innerHTML&&d[f].innerHTML.trim()===n)return d[f]}return null}}return e}))},"90aa":function(e,t,r){},c4dc:function(e,t,r){"use strict";r("90aa")},fb15:function(e,t,r){"use strict";if(r.r(t),r.d(t,"directives",(function(){return E})),"undefined"!==typeof window){var a=window.document.currentScript,n=r("8875");a=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var i=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(r.p=i[1])}var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("我是一个组件")]),r("h1",[e._v(e._s(e.message))]),r("button",{on:{click:function(t){return e.clicked()}}},[e._v("点一下会如何")])])},l=[],s={props:{message:{type:String,default:"xxx"}},name:"toast2",data(){return{}},methods:{clicked(){this.$emit("clicked","点了一下")}}},c=s;function u(e,t,r,a,n,i,o,l){var s,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=s):n&&(s=l?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),s)if(c.functional){c._injectStyles=s;var u=c.render;c.render=function(e,t){return s.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,s):[s]}return{exports:e,options:c}}var d=u(c,o,l,!1,null,null,null),f=d.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.data.tableData?r("div",[r("v-chart",{ref:"vChart",staticStyle:{width:"100%"},attrs:{theme:"ovilia-green",options:e.options}}),r("v-table",{ref:"vTable",staticStyle:{width:"100%"},attrs:{"is-horizontal-resize":"","row-hover-color":"#eee","row-click-color":"#edf7ff","row-height":e.tableRowHeight,height:e.tableHeight,"column-width-drag":"",columns:e.tableColumns,"table-data":e.tableData,"cell-edit-done":e.cellEditDone,"is-vertical-resize":!0,"vertical-resize-offset":5}})],1):e._e()},h=[];const m=function(e,t){let r=[],a=[],n=[],i={title:t[1].title,key:t[1].field},o=[];if(t)for(let l=2;l<t.length;l++)o.push({title:t[l].title,key:t[l].field}),n.push(t[l].title);if(e)for(let l=0;l<e.length;l++)if(r.push(e[l][i.key]),0==l)for(let t=0;t<o.length;t++)a.push({name:o[t].title,type:"line",data:[e[l][o[t].key]]});else for(let t=0;t<o.length;t++)a[t].data.push(e[l][o[t].key]);return{xAxisData:r,seriesData:a,legendData:n}};var b={tableData2Charts:m},y={name:"ChartTable",props:{editable:{type:Boolean,default:!1},data:{type:Object,required:!0},tableHeight:{type:Number,default:300},tableRowHeight:{type:Number,default:34}},data(){return{options:{}}},computed:{tableData:{get(){return this.data.tableData}},tableColumns:{get(){return this.editable||this.data.tableColumns.forEach(e=>{e.isEdit=!1}),this.data.tableColumns}}},watch:{tableData:{handler(e){e&&this.updateCharts()},deep:!0,immediate:!0}},mounted(){console.log("--",this.data)},methods:{cellEditDone(e,t,r,a,n){this.$emit("cellEditDone",{rowIndex:r,field:n,newValue:e,oldValue:t,rowData:a})},updateCharts(){let e=b.tableData2Charts(this.tableData,this.tableColumns);this.options={tooltip:{show:!0,trigger:"axis"},legend:{data:e.legendData},xAxis:{type:"category",data:e.xAxisData,max:e=>e.max,min:e=>e.min},yAxis:{type:"value",max:e=>e.max,min:e=>e.min},series:e.seriesData},this.resize()},resize(){this.$refs.vChart&&this.$refs.vChart.resize(),this.$refs.vTable&&this.$refs.vTable.resize()}}},v=y,g=(r("c4dc"),u(v,p,h,!1,null,"33cd4fe1",null)),_=g.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-tabs",{attrs:{"default-active-key":"1","tab-position":"left"},on:{change:e.callback}},e._l(e.chartTableDatas,(function(t){return r("a-tab-pane",{key:t.key,attrs:{tab:t.title}},[r("chart-table",{staticStyle:{width:"90%"},attrs:{data:e.updateDataType(t.key)}})],1)})),1)],1)},D=[],w={name:"CharacteristicCurve",props:{currentKey:{type:String,required:!0}},data(){return{currentDataType:"",chartTableDatas:[]}},mounted(){},watch:{currentKey:{handler:"updateCurrentKey",immediate:!0}},methods:{callback(e){console.log(e)},updateCurrentKey(e){this.chartTableDatas=[],this.$emit("getCurves",e,e=>{if(e)for(let t=0;t<e.length;t++)this.chartTableDatas.push({tableData:e[t].tableData,tableColumns:e[t].tableColumns,key:e[t].id,title:e[t].name})})},updateDataType(e){if(this.chartTableDatas)for(let t=0;t<this.chartTableDatas.length;t++)if(this.chartTableDatas[t].key==e)return this.chartTableDatas[t]}}},C=w,T=u(C,x,D,!1,null,"7ac9acb9",null),S=T.exports,k={bind:()=>{console.log("directive bind")},inserted:(e,t)=>{console.log("el:",e,t)}};const $=[f,_,S],E={testDirective:k},j=function(e){$.map(t=>e.component(t.name,t)),Reflect.ownKeys(E).map(t=>e.directive(t,E[t]))};"undefined"!==typeof window&&window.Vue&&j(window.Vue);var O={install:j,toast2:f,ChartTable:_,CharacteristicCurve:S,...E};t["default"]=O}})}));
//# sourceMappingURL=wpd.umd.min.js.map